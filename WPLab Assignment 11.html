<!DOCTYPE html>
<html lang="en">
<head>
  <meta charset="UTF-8">
  <meta name="viewport" content="width=device-width, initial-scale=1.0">
  <title>Digital Clock with Alarm & Timer</title>
  <style>
    body { font-family: Arial, sans-serif; text-align: center; background: #222; color: white; }
    .container { width: 500px; height: 600px; margin: 50px auto; padding: 20px; border-radius: 20px; background: rgba(0, 0, 0, 0.8); box-shadow: 0px 0px 15px rgba(0, 0, 0, 0.5); position: relative; overflow: hidden; }
    .clock { font-size: 1.5em; margin: 5px; }
    .date { font-size: 1em; margin: 5px; }
    .controls, .timer { font-size: 0.8em; margin-top: 10px; }
    @keyframes shake { 0% { transform: translate(0, 0); } 25% { transform: translate(-5px, 5px); } 50% { transform: translate(5px, -5px); } 75% { transform: translate(-5px, -5px); } 100% { transform: translate(5px, 5px); } }
    .shake { animation: shake 0.5s infinite; }
  </style>
</head>
<body>
  <div class="container" id="container">
    <h1>Digital Clock</h1>
    <div class="clock" id="clock"></div>
    <div class="date" id="date"></div>
    <div class="controls">
      <h2>Set Alarm</h2>
      <input type="time" id="alarmTime" onkeypress="handleKeyPress(event)">
      <button onclick="setAlarm()">Set Alarm</button>
      <ul id="alarmsList"></ul>
    </div>
    <div class="timer">
      <h2>Countdown Timer</h2>
      <input type="number" id="minutes" placeholder="Minutes" min="0">
      <input type="number" id="seconds" placeholder="Seconds" min="0" max="59">
      <button onclick="startTimer()">Start Timer</button>
      <p id="timerDisplay">00:00</p>
    </div>
  </div>
  <script>
    function updateClock() {
      let now = new Date();
      document.getElementById('clock').innerText = now.toLocaleTimeString();
      document.getElementById('date').innerText = now.toDateString();
    }
    setInterval(updateClock, 1000);
    let alarms = [];
    let alarmSound = new Audio('https://www.soundjay.com/button/beep-07.wav');
    function setAlarm() {
      let alarmTime = document.getElementById('alarmTime').value;
      if (alarmTime) {
        alarms.push(alarmTime);
        let alarmList = document.getElementById('alarmsList');
        let li = document.createElement('li');
        li.innerText = alarmTime;
        alarmList.appendChild(li);
      }
    }
    function handleKeyPress(event) {
      if (event.key === 'Enter') {
        setAlarm();
      }
    }
    setInterval(() => {
      let now = new Date();
      let currentTimeHM = now.toLocaleTimeString('en-US', { hour12: false }).slice(0, 5);
      if (alarms.includes(currentTimeHM)) {
        const container = document.getElementById('container');
        container.classList.add('shake');
        alarmSound.loop = true;
        alarmSound.play();
        let snooze = confirm('Alarm ringing! Press OK to stop or Cancel to snooze for 5 minutes.');
        if (snooze) {
          alarmSound.pause();
          alarmSound.currentTime = 0;
          container.classList.remove('shake');
          alarms = alarms.filter(time => time !== currentTimeHM);
        } else {
          let snoozeTime = new Date();
          snoozeTime.setMinutes(snoozeTime.getMinutes() + 5);
          let snoozeHM = snoozeTime.toLocaleTimeString('en-US', { hour12: false }).slice(0, 5);
          alarms.push(snoozeHM);
          alarmSound.pause();
          alarmSound.currentTime = 0;
          container.classList.remove('shake');
        }
      }
    }, 1000);
    let timerInterval;
    function startTimer() {
      let minutes = parseInt(document.getElementById('minutes').value) || 0;
      let seconds = parseInt(document.getElementById('seconds').value) || 0;
      let totalTime = minutes * 60 + seconds;
      if (totalTime <= 0) {
        alert('Enter a valid time');
        return;
      }
      clearInterval(timerInterval);
      function updateTimerDisplay() {
        let min = Math.floor(totalTime / 60);
        let sec = totalTime % 60;
        document.getElementById('timerDisplay').innerText = `${String(min).padStart(2, '0')}:${String(sec).padStart(2, '0')}`;
      }
      updateTimerDisplay();
      timerInterval = setInterval(() => {
        if (totalTime > 0) {
          totalTime--;
          updateTimerDisplay();
        } else {
          clearInterval(timerInterval);
          alert("Time's up!");
        }
      }, 1000);
    }
  </script>
</body>
</html>
